/* Hide default details marker - can't be done with Tailwind */
details summary::-webkit-details-marker {
  display: none;
}

/*
 * Safari compatibility fix
 * REASON: Ensures proper text flow in Safari which cannot be handled with Tailwind classes alone
 */
pid-component {
  display: inline-block;
  vertical-align: top;
}

/* Ensure content flow in Safari */
@media all and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm) {
  pid-component {
    /* This transform trick forces Safari to establish a new containing block */
    transform: translateZ(0);
  }

  /* Clear after the component to prevent text flowing underneath */
  pid-component::after {
    content: '';
    display: block;
    clear: both;
    height: 0;
  }

  /* Ensure resize functionality in Safari */
  pid-component pid-collapsible.resize-both {
    -webkit-resize: both !important;
    resize: both !important;
    overflow: auto !important;
    max-height: fit-content !important; /* Fix Safari excessive height issue */
    height: fit-content !important; /* Ensure height matches content in Safari */
  }

  /* Fix for high/narrow preview when openByDefault is set */
  pid-component[openbydefault] pid-collapsible {
    height: fit-content !important;
    min-height: fit-content !important;
    width: auto !important;
    min-width: 75% !important;
  }
}
